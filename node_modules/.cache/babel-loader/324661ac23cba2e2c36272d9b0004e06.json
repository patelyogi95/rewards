{"ast":null,"code":"// ag-grid-enterprise v20.2.0\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ag_grid_community_1 = require(\"ag-grid-community\");\n\nvar statusBarService_1 = require(\"./statusBarService\");\n\nvar StatusBar =\n/** @class */\nfunction (_super) {\n  __extends(StatusBar, _super);\n\n  function StatusBar() {\n    return _super.call(this, StatusBar.TEMPLATE) || this;\n  }\n\n  StatusBar.prototype.postConstruct = function () {\n    if (this.gridOptions.statusBar && this.gridOptions.statusBar.statusPanels) {\n      var leftStatusPanelComponents = this.gridOptions.statusBar.statusPanels.filter(function (componentConfig) {\n        return componentConfig.align === 'left';\n      });\n      this.createAndRenderComponents(leftStatusPanelComponents, this.eStatusBarLeft);\n      var centerStatusPanelComponents = this.gridOptions.statusBar.statusPanels.filter(function (componentConfig) {\n        return componentConfig.align === 'center';\n      });\n      this.createAndRenderComponents(centerStatusPanelComponents, this.eStatusBarCenter);\n      var rightStatusPanelComponents = this.gridOptions.statusBar.statusPanels.filter(function (componentConfig) {\n        return !componentConfig.align || componentConfig.align === 'right';\n      });\n      this.createAndRenderComponents(rightStatusPanelComponents, this.eStatusBarRight);\n    }\n  };\n\n  StatusBar.prototype.createAndRenderComponents = function (statusBarComponents, ePanelComponent) {\n    var _this = this;\n\n    var componentDetails = [];\n\n    ag_grid_community_1._.forEach(statusBarComponents, function (componentConfig) {\n      var params = {\n        api: _this.gridOptionsWrapper.getApi(),\n        columnApi: _this.gridOptionsWrapper.getColumnApi(),\n        context: _this.gridOptionsWrapper.getContext()\n      };\n\n      var promise = _this.userComponentFactory.newStatusPanelComponent(componentConfig, params);\n\n      componentDetails.push({\n        // default to the component name if no key supplied\n        key: componentConfig.key || componentConfig.statusPanel,\n        promise: promise\n      });\n    });\n\n    ag_grid_community_1.Promise.all(componentDetails.map(function (details) {\n      return details.promise;\n    })).then(function () {\n      ag_grid_community_1._.forEach(componentDetails, function (componentDetail) {\n        componentDetail.promise.then(function (component) {\n          var destroyFunc = function destroyFunc() {\n            if (component.destroy) {\n              component.destroy();\n            }\n          };\n\n          if (_this.isAlive()) {\n            _this.statusBarService.registerStatusPanel(componentDetail.key, component);\n\n            ePanelComponent.appendChild(component.getGui());\n\n            _this.addDestroyFunc(destroyFunc);\n          } else {\n            destroyFunc();\n          }\n        });\n      });\n    });\n  };\n\n  StatusBar.TEMPLATE = \"<div class=\\\"ag-status-bar\\\">\\n        <div ref=\\\"eStatusBarLeft\\\" class=\\\"ag-status-bar-left\\\"></div>\\n        <div ref=\\\"eStatusBarCenter\\\" class=\\\"ag-status-bar-center\\\"></div>\\n        <div ref=\\\"eStatusBarRight\\\" class=\\\"ag-status-bar-right\\\"></div>\\n    </div>\";\n\n  __decorate([ag_grid_community_1.Autowired('gridOptionsWrapper'), __metadata(\"design:type\", ag_grid_community_1.GridOptionsWrapper)], StatusBar.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([ag_grid_community_1.Autowired('gridOptions'), __metadata(\"design:type\", Object)], StatusBar.prototype, \"gridOptions\", void 0);\n\n  __decorate([ag_grid_community_1.Autowired('userComponentFactory'), __metadata(\"design:type\", ag_grid_community_1.UserComponentFactory)], StatusBar.prototype, \"userComponentFactory\", void 0);\n\n  __decorate([ag_grid_community_1.Autowired('statusBarService'), __metadata(\"design:type\", statusBarService_1.StatusBarService)], StatusBar.prototype, \"statusBarService\", void 0);\n\n  __decorate([ag_grid_community_1.RefSelector('eStatusBarLeft'), __metadata(\"design:type\", HTMLElement)], StatusBar.prototype, \"eStatusBarLeft\", void 0);\n\n  __decorate([ag_grid_community_1.RefSelector('eStatusBarCenter'), __metadata(\"design:type\", HTMLElement)], StatusBar.prototype, \"eStatusBarCenter\", void 0);\n\n  __decorate([ag_grid_community_1.RefSelector('eStatusBarRight'), __metadata(\"design:type\", HTMLElement)], StatusBar.prototype, \"eStatusBarRight\", void 0);\n\n  __decorate([ag_grid_community_1.PostConstruct, __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", []), __metadata(\"design:returntype\", void 0)], StatusBar.prototype, \"postConstruct\", null);\n\n  return StatusBar;\n}(ag_grid_community_1.Component);\n\nexports.StatusBar = StatusBar;","map":null,"metadata":{},"sourceType":"script"}